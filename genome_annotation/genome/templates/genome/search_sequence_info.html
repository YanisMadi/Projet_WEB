<!DOCTYPE html>
<html lang="fr" dir="ltr">
  <head>
  <meta charset="utf-8" />
        <title> Formulaire d'extraction </title>
        {% load static %}
	    <link rel="stylesheet" href="{% static 'Inscription.css' %}">
  </head>
  <body>
    <!-- Barre de navigation --> 
    <nav>
      <div class="nav-content">
        <div class="logo">
          <a >CYPS Genome Annotation.</a> 
        </div>
        <p>{% if user.is_authenticated %}Bienvenue {{ user.get_short_name }} !{% endif %}</p>
        <ul class="nav-links">
          {% if user.is__staff %}
          <li><a href="{% url 'validateur_page' %}">Accueil Admin</a></li>
          {% elif user.is_annotateur %}
            <li><a href="{% url 'annotateur_page' %}">Accueil Annotateur</a></li>
          {% elif user.is_validateur %}
            <li><a href="{% url 'validateur_page' %}">Accueil Validateur</a></li>
          {% elif user.is_lecteur %}
            <li><a href="{% url 'lecteur_page' %}">Accueil Lecteur</a></li>
          {% endif %}
          <li><a href="{% url 'logout' %}">Se déconnecter</a></li>
        </ul>
      </div>
    </nav>
    
 	<div class ="container">
        <div class="title"> Formulaire d'extraction </div><br>
          <form action="{% url 'extract_data' %}" method="post">
            {% csrf_token %}
            <h3>Rechercher des données annotées</h3>
            <div class="form-group">
              <label for="num_accession">Numéro d'accès</label>
              <input type="text" name="num_accession" id="num_accession" class="form-control">
            </div>
            <div class="form-group">
              <label for="type_adn">Type d'ADN</label>
              <select name="type_adn" id="type_adn" class="form-control">
                <option value="">Tous</option>
                <option value="">chromosome</option>
                <option value="">plasmide</option>
                {% for type, label in SequenceInfo.DNA_TYPE %}
                <option value="{{ type }}">{{ label }}</option>
                {% endfor %}
                </select>
                  </div>
                  <div class="form-group">
                    <label for="annotated_state">Etat annoté</label>
                    <select name="annotated_state" id="annotated_state" class="form-control">
                      <option value="">Tous</option>
                      {% for state, label in SequenceInfo.ANNOTATION %}
                        <option value="{{ state }}">{{ label }}</option>
                      {% endfor %}
                    </select>
                  </div>
                  <input type="submit" value="Rechercher" class="btn btn-primary">
                </form>
                <hr>
                <h3>Champs à inclure dans le fichier extrait</h3>
                <form action="{% url 'extract_data' %}" method="post">
                  {% csrf_token %}
                  <table class="table">
                    <thead>
                      <tr>
                        <th>Sélectionner</th>
                        <th>Nom de champ</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td><input type="checkbox" name="fields" value="num_accession"></td>
                        <td>Génome ID</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="type_adn"></td>
                        <td>Séquence ID</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="seq_name"></td>
                        <td>Type d'adn</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="seq_name"></td>
                        <td>Séquence CDS</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="seq_name"></td>
                        <td>Séquence Peptidique</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="seq_name"></td>
                        <td>Biotype</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="seq_name"></td>
                        <td>Longueur</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="seq_name"></td>
                        <td>Brin</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="seq_name"></td>
                        <td>Start Position</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="seq_name"></td>
                        <td>End Position</td>
                      </tr>
                      <tr>
                        <td><input type="checkbox" name="fields" value="seq_name"></td>
                        <td>Description</td>
                      </tr>
                      <tr>
                      <!-- Ajoutez des lignes pour les autres champs -->
                    </tbody>
                  </table>
                  <input type="submit" value="Exporter" class="btn btn-primary">
                </form>
              </div>
             </body>
         </html>